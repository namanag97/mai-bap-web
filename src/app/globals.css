@import "tailwindcss";

@theme {
  /* Fonts */
  --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, monospace;

  /* Braun Palette — exact match */
  --color-braun-50:     #fafafa;
  --color-braun-100:    #f4f4f5;
  --color-braun-200:    #e4e4e7;
  --color-braun-300:    #d4d4d8;
  --color-braun-400:    #a1a1aa;
  --color-braun-500:    #71717a;
  --color-braun-600:    #52525b;
  --color-braun-700:    #3f3f46;
  --color-braun-800:    #27272a;
  --color-braun-900:    #09090b;
  --color-braun-orange: #ea580c;

  /* Semantic data tokens */
  --color-data-positive: #059669;
  --color-data-warning:  #d97706;
  --color-data-negative: #e11d48;
  --color-data-violet:   #7c3aed;
  --color-data-muted:    #a1a1aa;

  /* ── Semantic surface tokens ────────────────────────── */
  --color-surface-primary:   #fafafa;
  --color-surface-secondary: #ffffff;
  --color-surface-inverse:   #09090b;
  --color-surface-warning:   color-mix(in srgb, #e11d48 8%, #fafafa);

  /* Surface palette */
  --color-surface-ground: #F5F3EF;
  --color-surface-raised: #FFFFFF;
  --color-surface-inset: #ECEAE5;
  --color-surface-overlay: rgba(255, 255, 255, 0.72);

  /* ── Semantic text tokens ───────────────────────────── */
  --color-text-primary:   #09090b;
  --color-text-secondary: #52525b;
  --color-text-muted:     #71717a;
  --color-text-dim:       #a1a1aa;
  --color-text-inverse:   #fafafa;
  --color-text-accent:    #ea580c;

  /* Ink palette — warm text tones */
  --color-ink-primary: #1A1918;
  --color-ink-secondary: #4A4744;
  --color-ink-muted: #8A8580;
  --color-ink-dim: #B5B0AA;
  --color-ink-inverse: #F5F3EF;

  /* ── Semantic border tokens ─────────────────────────── */
  --color-border-default: rgba(26, 25, 24, 0.10);
  --color-border-subtle: rgba(26, 25, 24, 0.05);
  --color-border-strong: rgba(26, 25, 24, 0.20);

  /* ── Radius ───────────────────────────────────────── */
  --radius: 4px;

  /* ── Typography scale ───────────────────────────────── */
  --text-display: clamp(3rem, 7vw, 6rem);
  --text-title:   clamp(1.875rem, 3vw, 2.25rem);
  --text-heading:  1.125rem;
  --text-subheading: 0.9375rem;
  --text-body:     1rem;
  --text-body-sm:  0.875rem;
  --text-caption:  0.75rem;
  --text-meta:     0.625rem;
  --text-micro:    0.5625rem;
  --text-code:     0.8125rem;

  /* ── Line heights ───────────────────────────────────── */
  --leading-display: 0.92;
  --leading-tight:   1.1;
  --leading-snug:    1.4;
  --leading-body:    1.75;
  --leading-relaxed: 1.7;

  /* ── Letter spacing ─────────────────────────────────── */
  --tracking-tight:  -0.01em;
  --tracking-normal: 0;
  --tracking-wide:   0.05em;
  --tracking-widest: 0.1em;
  --tracking-logo:   0.2em;

  /* ── Spacing scale ──────────────────────────────────── */
  --space-section:   6rem;
  --space-section-lg: 8rem;
  --space-block:     3rem;
  --space-element:   1.5rem;
  --space-inline:    0.75rem;
  --space-gutter:    1.5rem;

  /* ── Transitions ────────────────────────────────────── */
  --ease-default: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-spring:  cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --duration-fast: 150ms;
  --duration-base: 200ms;
  --duration-slow: 300ms;
  --duration-enter: 500ms;
}

/* ── Reset ─────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; }

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
  scroll-padding-top: 4rem;
}

body {
  background-color: var(--color-surface-ground);
  color: var(--color-ink-primary);
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
}

::selection {
  background-color: var(--color-braun-900);
  color: var(--color-braun-50);
}

:focus-visible {
  outline: 2px solid var(--color-braun-900);
  outline-offset: 2px;
}

/* ── Scrollbar ─────────────────────────────────────────── */
::-webkit-scrollbar        { width: 5px; height: 5px; }
::-webkit-scrollbar-track  { background: transparent; }
::-webkit-scrollbar-thumb  { background: var(--color-braun-200); }
::-webkit-scrollbar-thumb:hover  { background: var(--color-braun-400); }
::-webkit-scrollbar-thumb:active { background: var(--color-braun-500); }

/* ── Prose — blog & docs reading typography ────────────── */
.prose {
  color: var(--color-braun-600);
  font-size: 1rem;
  line-height: 1.75;
}

.prose > * + * {
  margin-top: 1.25em;
}

.prose h2 {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-braun-900);
  letter-spacing: -0.01em;
  border-bottom: 1px solid var(--color-braun-200);
  padding-bottom: 0.5rem;
  margin-top: 2.5rem;
  margin-bottom: 0.875rem;
  line-height: 1.4;
}

.prose h3 {
  font-size: 0.9375rem;
  font-weight: 600;
  color: var(--color-braun-800);
  margin-top: 1.75rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.prose p {
  margin-bottom: 0;
  color: var(--color-braun-600);
}

.prose ul {
  padding-left: 1.25rem;
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.prose ul li {
  position: relative;
  color: var(--color-braun-600);
  line-height: 1.7;
}

.prose ul li::before {
  content: '—';
  position: absolute;
  left: -1.25rem;
  color: var(--color-braun-400);
  font-family: var(--font-mono), monospace;
}

.prose pre {
  background: var(--color-braun-900);
  color: var(--color-braun-200);
  padding: 1.25rem 1.5rem;
  overflow-x: auto;
  font-size: 0.8125rem;
  line-height: 1.7;
  border: 1px solid var(--color-braun-800);
}

.prose code {
  font-family: var(--font-mono), monospace;
  font-size: 0.875em;
}

.prose pre code {
  color: inherit;
  font-size: inherit;
}

/* Inline code */
.prose :not(pre) > code {
  background: var(--color-braun-100);
  border: 1px solid var(--color-braun-200);
  padding: 0.125em 0.375em;
  font-size: 0.8125rem;
  color: var(--color-braun-800);
}

.prose .note {
  border-left: 2px solid var(--color-braun-900);
  background: var(--color-braun-100);
  padding: 0.875rem 1.125rem;
  font-size: 0.875rem;
  color: var(--color-braun-600);
  line-height: 1.65;
}

.prose .note.warning {
  border-left-color: var(--color-data-negative);
  background: color-mix(in srgb, var(--color-data-negative) 8%, var(--color-braun-50));
}

/* ── Hover lift — subtle card interaction ──────────────── */
.hover-lift {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.hover-lift:hover {
  transform: translateY(-2px);
}

/* ── Smooth transitions ───────────────────────────────── */
@media (prefers-reduced-motion: no-preference) {
  @view-transition {
    navigation: auto;
  }
}

/* ── Dark mode ──────────────────────────────────────────── */
[data-theme="dark"] {
  --color-braun-50:  #09090b;
  --color-braun-100: #18181b;
  --color-braun-200: #27272a;
  --color-braun-300: #3f3f46;
  --color-braun-400: #71717a;
  --color-braun-500: #a1a1aa;
  --color-braun-600: #d4d4d8;
  --color-braun-700: #e4e4e7;
  --color-braun-800: #f4f4f5;
  --color-braun-900: #fafafa;
  --color-braun-orange: #ea580c;
  --color-surface-warning: #1c0a10;
  --color-surface-ground: #1C1B19;
  --color-surface-raised: #27261F;
  --color-surface-inset: #141310;
  --color-surface-overlay: rgba(28, 27, 25, 0.72);
  --color-ink-primary: #F5F3EF;
  --color-ink-secondary: #B5B0AA;
  --color-ink-muted: #8A8580;
  --color-ink-dim: #4A4744;
  --color-ink-inverse: #1C1B19;
  --color-border-default: rgba(245, 243, 239, 0.10);
  --color-border-subtle: rgba(245, 243, 239, 0.05);
  --color-border-strong: rgba(245, 243, 239, 0.20);
}

/* Surfaces using Tailwind's bg-white need to invert in dark mode */
[data-theme="dark"] .bg-white {
  background-color: var(--color-braun-100);
}

/* Dark prose code blocks get slightly different treatment */
[data-theme="dark"] .prose pre {
  background: var(--color-braun-100);
  border-color: var(--color-braun-300);
}

[data-theme="dark"] .prose .note.warning {
  background: var(--color-surface-warning);
}
